{"version":3,"sources":["webpack:///src/pages/manager/waybill/components/new.vue","webpack:///./src/pages/manager/waybill/components/new.vue?2e44","webpack:///./src/pages/manager/waybill/components/new.vue","webpack:///src/pages/manager/waybill/components/manage.vue","webpack:///./src/pages/manager/waybill/components/manage.vue?f30f","webpack:///./src/pages/manager/waybill/components/manage.vue","webpack:///src/pages/manager/waybill/index.vue","webpack:///./src/pages/manager/waybill/index.vue?3f12","webpack:///./src/pages/manager/waybill/index.vue"],"names":["components_new","computed","extends_default","Object","vuex_esm","_getStoreId","methods","_this","this","storeId","item","lists","_this2","getStoreId","getOutboundId","fetchAfterLoginData","store_list","id","boxIdList","_this3","_this4","response","modalLoadingAtion","eta","track","carrier","box_id_list","reset","waybill_components_new","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","disabled","length","type","nativeOn","click","$event","openModel","_v","staticStyle","width","border","stripe","columns","data","on","on-selection-change","selectItem","title","loading","modalLoading","on-ok","ok","on-cancel","cancel","model","value","callback","$$v","showModal","expression","placeholder","maxlength","clearable","staticRenderFns","manage","row","h","msg","searchWaybills","arrive_date","_this5","reg","components_manage","searchContent","rowModule","$set","waybill","newc","__webpack_require__","normalizeComponent","ssrContext","manage_normalizeComponent","manager_waybill","animated","label","waybill_Component","waybill_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/4.8d891fcdf380069d3d79.js","sourcesContent":["<template>\n  <div>\n    <div class=\"manage-box\">\n      <div class=\"wn-add\">\n        <Button :disabled=\"!box_id_list.length\" type=\"primary\" class=\"new-opa\" @click.native=\"openModel\">新增</Button>\n      </div>\n      <div class=\"cm-table\" style=\"width: 25%\">\n        <Table @on-selection-change=\"selectItem\" border stripe :columns=\"columns\" :data=\"lists\"></Table>\n      </div>\n      <Modal\n        v-model=\"showModal\"\n        title=\"新增运单\"\n        :loading=\"modalLoading\"\n        @on-ok=\"ok\"\n        @on-cancel=\"cancel\">\n        <div class=\"modal-item supplier-mi\">\n          <span class=\"vm\">运单号：</span>\n          <Input class=\"vm\" v-model=\"track\" placeholder=\"请输入\" :maxlength=\"60\" clearable style=\"width: 200px\"></Input>\n        </div>\n        <div class=\"modal-item supplier-mi\">\n          <span class=\"vm\">承运人：</span>\n          <Input class=\"vm\" v-model=\"carrier\" placeholder=\"请输入\" :maxlength=\"60\" clearable style=\"width: 200px\"></Input>\n        </div>\n        <div class=\"modal-item supplier-mi\">\n          <span class=\"vm\">预计抵达时间：</span>\n          <Input class=\"vm\" v-model=\"eta\" placeholder=\"请输入(格式为YYYY-MM-DD)\" :maxlength=\"60\" clearable style=\"width: 200px\"></Input>\n        </div>\n      </Modal>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Apis from '@/common/js/apis'\nimport {mapGetters, mapActions} from 'vuex'\n\nexport default {\n  name: 'new',\n  data () {\n    return {\n      modalLoading: true,\n      showModal: false,\n      storeId: '',\n      track: '',\n      carrier: '',\n      eta: '',\n      columns: [\n        {\n          type: 'selection',\n          width: 60,\n          align: 'center'\n        },\n        {\n          title: '箱子ID',\n          key: 'id'\n        }\n      ],\n      lists: [],\n      box_id_list: []\n    }\n  },\n  computed: {\n    ...mapGetters(['globalStoreIdGr'])\n  },\n  watch: {\n    globalStoreIdGr () {\n      this._getStoreId()\n    }\n  },\n  methods: {\n    ...mapActions(['getStoreId', 'fetchAfterLoginData']),\n    async getOutboundId () {\n      let response = await Apis.searchOutboundList({\n        waybill_is_null: 1,\n        store_id: this.storeId\n      })\n      if (!this.$responseMessage(response.data, 200, '', true)) {\n        let lists = []\n        response.data.msg.forEach((item) => {\n          lists.push({\n            id: item\n          })\n        })\n        this.lists = lists\n      }\n    },\n    async _getStoreId () {\n      this.storeId = await this.getStoreId()\n      if (this.storeId) {\n        this.getOutboundId()\n      } else {\n        let afterLoginData = await this.fetchAfterLoginData()\n        if (afterLoginData && afterLoginData.data.msg.store_list) {\n          this.storeId = await this.getStoreId()\n          if (this.storeId) {\n            this.getOutboundId()\n          } else {\n            this.$Message.warning('请选择店铺！')\n          }\n        }\n      }\n    },\n    selectItem (selection) {\n      let boxIdList = []\n      selection.forEach((item) => {\n        boxIdList.push(item.id)\n      })\n      this.box_id_list = boxIdList\n    },\n    openModel () {\n      this.showModal = true\n    },\n    modalLoadingAtion () {\n      this.showModal = true\n      this.modalLoading = false\n      window.setTimeout(() => {\n        this.modalLoading = true\n      }, 100)\n    },\n    ok () {\n      window.setTimeout(async () => {\n        if (this.$requiredInVerify(this.track, '运单号') || this.$requiredInVerify(this.carrier, '承运人') || this.$requiredInVerify(this.eta, '预计抵达时间')) {\n          this.modalLoadingAtion()\n          return\n        }\n\n        if (!/^\\d{4}-\\d{2}-\\d{2}/.test(this.eta)) {\n          this.$Message.warning('预计抵达时间格式错误')\n          this.modalLoadingAtion()\n          return\n        }\n\n        let response = await Apis.createNewWaybill({\n          track: this.track,\n          carrier: this.carrier,\n          eta: this.eta,\n          box_id_list: JSON.stringify(this.box_id_list)\n        })\n        this.reset()\n        if (!this.$responseMessage(response.data, 201, '新建成功')) {\n          this.showModal = false\n        }\n      })\n    },\n    cancel () {\n      this.reset()\n    },\n    reset () {\n      this.track = ''\n      this.carrier = ''\n      this.eta = ''\n    }\n  },\n  created () {\n    this._getStoreId()\n  }\n}\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/manager/waybill/components/new.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"manage-box\"},[_c('div',{staticClass:\"wn-add\"},[_c('Button',{staticClass:\"new-opa\",attrs:{\"disabled\":!_vm.box_id_list.length,\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.openModel($event)}}},[_vm._v(\"新增\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"cm-table\",staticStyle:{\"width\":\"25%\"}},[_c('Table',{attrs:{\"border\":\"\",\"stripe\":\"\",\"columns\":_vm.columns,\"data\":_vm.lists},on:{\"on-selection-change\":_vm.selectItem}})],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"新增运单\",\"loading\":_vm.modalLoading},on:{\"on-ok\":_vm.ok,\"on-cancel\":_vm.cancel},model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[_c('div',{staticClass:\"modal-item supplier-mi\"},[_c('span',{staticClass:\"vm\"},[_vm._v(\"运单号：\")]),_vm._v(\" \"),_c('Input',{staticClass:\"vm\",staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入\",\"maxlength\":60,\"clearable\":\"\"},model:{value:(_vm.track),callback:function ($$v) {_vm.track=$$v},expression:\"track\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-item supplier-mi\"},[_c('span',{staticClass:\"vm\"},[_vm._v(\"承运人：\")]),_vm._v(\" \"),_c('Input',{staticClass:\"vm\",staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入\",\"maxlength\":60,\"clearable\":\"\"},model:{value:(_vm.carrier),callback:function ($$v) {_vm.carrier=$$v},expression:\"carrier\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-item supplier-mi\"},[_c('span',{staticClass:\"vm\"},[_vm._v(\"预计抵达时间：\")]),_vm._v(\" \"),_c('Input',{staticClass:\"vm\",staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入(格式为YYYY-MM-DD)\",\"maxlength\":60,\"clearable\":\"\"},model:{value:(_vm.eta),callback:function ($$v) {_vm.eta=$$v},expression:\"eta\"}})],1)])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-56b26b8c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/manager/waybill/components/new.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-56b26b8c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./new.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./new.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./new.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-56b26b8c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./new.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/manager/waybill/components/new.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <div class=\"manage-box\">\n      <div class=\"wn-search\">\n        <Input class=\"vm\" v-model=\"searchContent\" placeholder=\"输入运单号或承运人(至少四个字符)\" clearable style=\"width: 210px\"></Input>\n        <Button :disabled=\"searchContent.length < 4\"  type=\"primary\"  class=\"new-opa\" @click.native=\"searchWaybills\">搜索</Button>\n      </div>\n      <div class=\"cm-table\" style=\"width: 60%\">\n        <Table border stripe :columns=\"columns\" :data=\"lists\"></Table>\n      </div>\n      <Modal\n        v-model=\"showModal\"\n        title=\"编辑运单\"\n        :loading=\"modalLoading\"\n        @on-ok=\"ok\"\n        @on-cancel=\"cancel\">\n        <div class=\"modal-item supplier-mi\">\n          <span class=\"vm\">运单号：</span>\n          <Input class=\"vm\" v-model=\"rowModule.track\" placeholder=\"请输入\" :maxlength=\"60\" clearable style=\"width: 200px\"></Input>\n        </div>\n        <div class=\"modal-item supplier-mi\">\n          <span class=\"vm\">承运人：</span>\n          <Input class=\"vm\" v-model=\"rowModule.carrier\" placeholder=\"请输入\" :maxlength=\"60\" clearable style=\"width: 200px\"></Input>\n        </div>\n        <div class=\"modal-item supplier-mi\">\n          <span class=\"vm\">预计抵达时间：</span>\n          <Input class=\"vm\" v-model=\"rowModule.eta\" placeholder=\"请输入\" :maxlength=\"60\" clearable style=\"width: 200px\"></Input>\n        </div>\n        <div class=\"modal-item supplier-mi\">\n          <span class=\"vm\">实际抵达时间：</span>\n          <Input class=\"vm\" v-model=\"rowModule.arrive_date\" placeholder=\"请输入\" :maxlength=\"60\" clearable style=\"width: 200px\"></Input>\n        </div>\n      </Modal>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Apis from '@/common/js/apis'\n\nexport default {\n  name: 'manage',\n  data () {\n    return {\n      searchContent: '',\n      modalLoading: true,\n      showModal: false,\n      rowModule: {\n        track: '',\n        carrier: '',\n        eta: '',\n        arrive_date: '',\n        id: ''\n      },\n      columns: [\n        {\n          title: '运单号',\n          key: 'track',\n          width: 120\n        },\n        {\n          title: '承运人',\n          key: 'carrier',\n          width: 120\n        },\n        {\n          title: '预计抵达时间',\n          key: 'eta',\n          width: 130\n        },\n        {\n          title: '实际抵达时间',\n          key: 'arrive_date',\n          width: 130\n        },\n        {\n          title: '操作',\n          key: 'action',\n          align: 'center',\n          render: (h, params) => {\n            return h('div', [\n              h('Button', {\n                props: {\n                  type: 'primary',\n                  size: 'small'\n                },\n                style: {\n                  marginRight: '5px'\n                },\n                on: {\n                  click: () => {\n                    this.edit(params.row)\n                  }\n                }\n              }, '编辑'),\n              h('Button', {\n                props: {\n                  type: 'error',\n                  size: 'small'\n                },\n                on: {\n                  click: () => {\n                    this.delWaybill(params.row.id)\n                  }\n                }\n              }, '删除')\n            ])\n          }\n        }\n      ],\n      lists: []\n    }\n  },\n  methods: {\n    async searchWaybills () {\n      let response = await Apis.searchWaybills({search: this.searchContent}, true)\n      if (!this.$responseMessage(response.data, 200, '', true)) {\n        this.lists = response.data.msg\n      }\n    },\n    async delWaybill (id) {\n      let response = await Apis.delWaybill(id, true)\n      if (!this.$responseMessage(response.data, 204, '删除成功')) {\n        this.searchWaybills()\n      }\n    },\n    edit (row) {\n      this.rowModule.track = row.track\n      this.rowModule.carrier = row.carrier\n      this.rowModule.eta = row.eta\n      this.rowModule.arrive_date = row.arrive_date\n      this.rowModule.id = row.id\n      this.openModel()\n    },\n    openModel () {\n      this.showModal = true\n    },\n    modalLoadingAtion () {\n      this.showModal = true\n      this.modalLoading = false\n      window.setTimeout(() => {\n        this.modalLoading = true\n      }, 100)\n    },\n    ok () {\n      window.setTimeout(async () => {\n        if (this.$requiredInVerify(this.rowModule.track, '运单号') || this.$requiredInVerify(this.rowModule.carrier, '承运人') || this.$requiredInVerify(this.rowModule.eta, '预计抵达时间') || this.$requiredInVerify(this.rowModule.arrive_date, '实际抵达时间')) {\n          this.modalLoadingAtion()\n          return\n        }\n        let reg = /^\\d{4}-\\d{2}-\\d{2}/\n        if (!reg.test(this.rowModule.eta) || !reg.test(this.rowModule.arrive_date)) {\n          this.$Message.warning('预计抵达时间格式错误')\n          this.modalLoadingAtion()\n          return\n        }\n\n        let response = await Apis.editWaybill(this.rowModule.id, {\n          track: this.rowModule.track,\n          carrier: this.rowModule.carrier,\n          eta: this.rowModule.eta,\n          arrive_date: this.rowModule.arrive_date\n        })\n        if (!this.$responseMessage(response.data, 202, '编辑成功')) {\n          this.showModal = false\n          this.searchWaybills()\n        }\n      })\n    },\n    cancel () {\n    }\n  },\n  created () {\n    this.searchWaybills()\n  }\n}\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/manager/waybill/components/manage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"manage-box\"},[_c('div',{staticClass:\"wn-search\"},[_c('Input',{staticClass:\"vm\",staticStyle:{\"width\":\"210px\"},attrs:{\"placeholder\":\"输入运单号或承运人(至少四个字符)\",\"clearable\":\"\"},model:{value:(_vm.searchContent),callback:function ($$v) {_vm.searchContent=$$v},expression:\"searchContent\"}}),_vm._v(\" \"),_c('Button',{staticClass:\"new-opa\",attrs:{\"disabled\":_vm.searchContent.length < 4,\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.searchWaybills($event)}}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"cm-table\",staticStyle:{\"width\":\"60%\"}},[_c('Table',{attrs:{\"border\":\"\",\"stripe\":\"\",\"columns\":_vm.columns,\"data\":_vm.lists}})],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"编辑运单\",\"loading\":_vm.modalLoading},on:{\"on-ok\":_vm.ok,\"on-cancel\":_vm.cancel},model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[_c('div',{staticClass:\"modal-item supplier-mi\"},[_c('span',{staticClass:\"vm\"},[_vm._v(\"运单号：\")]),_vm._v(\" \"),_c('Input',{staticClass:\"vm\",staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入\",\"maxlength\":60,\"clearable\":\"\"},model:{value:(_vm.rowModule.track),callback:function ($$v) {_vm.$set(_vm.rowModule, \"track\", $$v)},expression:\"rowModule.track\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-item supplier-mi\"},[_c('span',{staticClass:\"vm\"},[_vm._v(\"承运人：\")]),_vm._v(\" \"),_c('Input',{staticClass:\"vm\",staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入\",\"maxlength\":60,\"clearable\":\"\"},model:{value:(_vm.rowModule.carrier),callback:function ($$v) {_vm.$set(_vm.rowModule, \"carrier\", $$v)},expression:\"rowModule.carrier\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-item supplier-mi\"},[_c('span',{staticClass:\"vm\"},[_vm._v(\"预计抵达时间：\")]),_vm._v(\" \"),_c('Input',{staticClass:\"vm\",staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入\",\"maxlength\":60,\"clearable\":\"\"},model:{value:(_vm.rowModule.eta),callback:function ($$v) {_vm.$set(_vm.rowModule, \"eta\", $$v)},expression:\"rowModule.eta\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-item supplier-mi\"},[_c('span',{staticClass:\"vm\"},[_vm._v(\"实际抵达时间：\")]),_vm._v(\" \"),_c('Input',{staticClass:\"vm\",staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入\",\"maxlength\":60,\"clearable\":\"\"},model:{value:(_vm.rowModule.arrive_date),callback:function ($$v) {_vm.$set(_vm.rowModule, \"arrive_date\", $$v)},expression:\"rowModule.arrive_date\"}})],1)])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6cd5a8dc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/manager/waybill/components/manage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6cd5a8dc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./manage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./manage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./manage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6cd5a8dc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./manage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/manager/waybill/components/manage.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <Tabs :animated=\"false\">\n      <TabPane label=\"新建运单\">\n        <newc></newc>\n      </TabPane>\n      <TabPane label=\"管理运单\">\n        <manage></manage>\n      </TabPane>\n    </Tabs>\n  </div>\n</template>\n\n<script>\nimport newc from './components/new'\nimport manage from './components/manage'\n\nexport default {\n  name: 'waybill',\n  components: {\n    newc,\n    manage\n  }\n}\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/manager/waybill/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Tabs',{attrs:{\"animated\":false}},[_c('TabPane',{attrs:{\"label\":\"新建运单\"}},[_c('newc')],1),_vm._v(\" \"),_c('TabPane',{attrs:{\"label\":\"管理运单\"}},[_c('manage')],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fdd3bb62\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/manager/waybill/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fdd3bb62\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fdd3bb62\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/manager/waybill/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}