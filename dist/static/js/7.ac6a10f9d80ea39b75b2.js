webpackJsonp([7],{"1JRt":function(e,a){},jT7l:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=s("Xxa5"),r=s.n(t),n=s("exGp"),o=s.n(n),i=s("Dd8w"),c=s.n(i),u=s("S2w5"),l=s("NYxO"),d=s("s0MJ"),m={name:"Login",data:function(){return{username:"",password:"",remember:!1}},methods:c()({},Object(l.b)(["fetchAfterLoginData"]),{sumitUserInfo:function(){var e=this;return o()(r.a.mark(function a(){var s,t;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.$requiredInVerify(e.username,"用户名")&&!e.$requiredInVerify(e.password,"密码")){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,u.a.loginAction({username:e.username,password:e.password},!0);case 4:if(s=a.sent,!e.$responseMessage(s.data,200,"",!0)){a.next=7;break}return a.abrupt("return",!1);case 7:(t=s.data.msg.token)&&(Object(u.b)("JWT "+t),d.a.setCookie("token",t,1),e.remember?(d.a.setCookie("username",d.a.encodeBase64(e.username),5),d.a.setCookie("password",d.a.encodeBase64(e.password),5)):(d.a.setCookie("username",d.a.encodeBase64(e.username),5),d.a.clearCookie("password")),e.fetchAfterLoginData(),e.$router.push("/"));case 9:case"end":return a.stop()}},a,e)}))()},getUserInfoFromCookie:function(){var e=d.a.decodeBase64(d.a.getCookie("username")),a=d.a.decodeBase64(d.a.getCookie("password"));e&&a&&(this.username=e,this.password=a,this.remember=!0)}}),created:function(){this.getUserInfoFromCookie()}},p={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"login-content card"},[s("div",{staticClass:"login-title"},[e._v("系统登入")]),e._v(" "),s("div",{staticClass:"login-input mza"},[s("Input",{staticClass:"input-item",attrs:{placeholder:"请输入用户名",clearable:""},model:{value:e.username,callback:function(a){e.username=a},expression:"username"}}),e._v(" "),s("Input",{staticClass:"input-item",attrs:{placeholder:"请输入密码",type:"password",clearable:""},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}}),e._v(" "),s("div",{staticClass:"login-r-p mt15"},[s("Checkbox",{model:{value:e.remember,callback:function(a){e.remember=a},expression:"remember"}},[s("span",{staticClass:"r-p-text"},[e._v("记住密码")])])],1)],1),e._v(" "),s("div",{staticClass:"login-submit mza"},[s("Button",{staticClass:"login-btn",attrs:{type:"primary",size:"large"},nativeOn:{click:function(a){return e.sumitUserInfo(a)}}},[e._v("提交")])],1)])},staticRenderFns:[]};var f=s("VU/8")(m,p,!1,function(e){s("1JRt")},null,null);a.default=f.exports}});
//# sourceMappingURL=7.ac6a10f9d80ea39b75b2.js.map