{"version":3,"sources":["webpack:///src/pages/worker/tag.vue","webpack:///./src/pages/worker/tag.vue?c07c","webpack:///./src/pages/worker/tag.vue"],"names":["tag","img_url","product_name","h","computed","extends_default","Object","vuex_esm","_getStoreId","methods","_this","this","barcode","skuname","warehouse_sku","lists","_this2","_this3","response","modalLoadingAtion","companyName","msg","_this4","getStoreId","storeId","fetchAfterLoginData","store_list","worker_tag","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","width","attrs","placeholder","clearable","model","value","callback","$$v","searchContent","expression","_v","type","size","nativeOn","click","$event","searchAcion","border","stripe","columns","data","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"gMAgBAA,QAEA,kCAGA,iBACA,eACA,mBAGA,SACA,aAEA,YAEA,WACA,YAEA,YAEA,SACA,gEAMAC,oBAIA,SACA,eACA,uEAMA,yDAGAC,aAAA,OACA,KARAC,EAAA,uBAYA,yDAGAD,aAAA,QACA,MAAAC,EAAA,uBAIA,yDAGAD,aAAA,QACA,MAAAC,EAAA,uBAIA,yDAGAD,aAAA,QACA,MAAAC,EAAA,uBAIA,yDAGAD,aAAA,SAEA,uBAOAE,SAAAC,OAAAC,OAAAC,EAAA,EAAAD,EAEA,4DAGAE,gBAGAC,QAAAJ,OAAAC,OAAAC,EAAA,EAAAD,EAAA,aACA,gDACA,IAAAI,EAAAC,yLACA,wHAIAC,oEACA,+BACAC,iBACAC,yBAEAC,2EAGA,IAAAC,EAAAL,iJACA,6CACA,iEAEA,IAAAM,EAAAN,iDACA,IAAAO,wGACA,gCAGAC,mGACAC,4CACA,0CAKAD,kCAHA,sBACAE,0EAMA,IAAAC,EAAAX,8HACAY,2CAGAC,QAAA,yDACAC,yDACAC,WAAA,oCACAH,oEAIA,mFAOAf,gBC7JAmB,GADiBC,OAFjB,WAA0B,IAAAC,EAAAlB,KAAamB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,YAAsBF,EAAA,SAAcG,aAAaC,MAAA,SAAgBC,OAAQC,YAAA,SAAAC,UAAA,IAAsCC,OAAQC,MAAAZ,EAAA,cAAAa,SAAA,SAAAC,GAAmDd,EAAAe,cAAAD,GAAsBE,WAAA,mBAA6BhB,EAAAiB,GAAA,KAAAd,EAAA,UAA2BE,YAAA,SAAAG,OAA4BU,KAAA,UAAAC,KAAA,SAAgCC,UAAWC,MAAA,SAAAC,GAAyB,OAAAtB,EAAAuB,YAAAD,OAAiCtB,EAAAiB,GAAA,YAAAjB,EAAAiB,GAAA,KAAAd,EAAA,OAA2CE,YAAA,uBAAiCF,EAAA,SAAcK,OAAOgB,OAAA,GAAAC,OAAA,GAAAC,QAAA1B,EAAA0B,QAAAC,KAAA3B,EAAAd,UAAgE,MAExpB0C,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACA5D,EACA2B,GATA,EAVA,SAAAkC,GACAF,EAAA,SAaA,KAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/9.6920b68627d4dc0a666e.js","sourcesContent":["<template>\n  <div class=\"manage-box\">\n    <div class=\"cm-form\">\n      <Input v-model=\"searchContent\" placeholder=\"请输入SKU\" clearable style=\"width: 120px\"></Input>\n      <Button type=\"primary\" size=\"small\" class=\"search\" @click.native=\"searchAcion\">搜索</Button>\n    </div>\n    <div class=\"cm-table tag-table\">\n      <Table border stripe :columns=\"columns\" :data=\"lists\"></Table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Apis from '@/common/js/apis'\nimport {mapGetters, mapActions} from 'vuex'\n\nexport default {\n  name: '',\n  data () {\n    return {\n      storeId: '',\n      searchContent: '',\n      companyName: '',\n      columns: [\n        {\n          title: '品名',\n          key: 'name',\n          width: 180\n        },\n        {\n          title: 'SKU名',\n          key: 'sku',\n          width: 160\n        },\n        {\n          title: '图片',\n          key: 'img_url',\n          render: (h, params) => {\n            return h('img', {\n              attrs: {\n                src: params.row.img_url\n              }\n            })\n          }\n        },\n        {\n          title: '操作',\n          key: 'action',\n          align: 'center',\n          render: (h, params) => {\n            return h('div', [\n              h('a', {\n                class: {\n                  'num-tag': true\n                },\n                attrs: {\n                  href: `printtag:fnsku/${params.row.barcode}/${params.row.product_name}/2`\n                }\n              }, '2'),\n              h('a', {\n                class: {\n                  'num-tag': true\n                },\n                attrs: {\n                  href: `printtag:fnsku/${params.row.barcode}/${params.row.product_name}/10`\n                }\n              }, '10'),\n              h('a', {\n                class: {\n                  'num-tag': true\n                },\n                attrs: {\n                  href: `printtag:fnsku/${params.row.barcode}/${params.row.product_name}/20`\n                }\n              }, '20'),\n              h('a', {\n                class: {\n                  'num-tag': true\n                },\n                attrs: {\n                  href: `printtag:fnsku/${params.row.barcode}/${params.row.product_name}/50`\n                }\n              }, '50'),\n              h('a', {\n                class: {\n                  'num-tag': true\n                },\n                attrs: {\n                  href: `printtag:fnsku/${params.row.barcode}/${params.row.product_name}/100`\n                }\n              }, '100')\n            ])\n          }\n        }\n      ],\n      lists: []\n    }\n  },\n  computed: {\n    ...mapGetters(['globalStoreIdGr'])\n  },\n  watch: {\n    globalStoreIdGr () {\n      this._getStoreId()\n    }\n  },\n  methods: {\n    ...mapActions(['getStoreId', 'fetchAfterLoginData']),\n    async searchAcion () {\n      let response = await Apis.searchSKU({search: this.searchContent, store_id: this.storeId}, true)\n      if (!this.$responseMessage(response.data, 200, '', true)) {\n        let lists = []\n        response.data.msg.forEach((item) => {\n          item.warehouse_sku.barcode = item.barcode\n          item.warehouse_sku.product_name = item.product_name.split(' ').join('_')\n          item.warehouse_sku.skuname = item.skuname\n          lists.push(item.warehouse_sku)\n        })\n        this.lists = lists\n      }\n    },\n    async deleteCompany (id) {\n      let response = await Apis.deleteCompany(id, true)\n      this.$responseMessage(response.data, 200)\n    },\n    ok () {\n      window.setTimeout(async () => {\n        if (this.$requiredInVerify(this.companyName, '公司名')) {\n          this.modalLoadingAtion()\n          return\n        }\n        let response = await Apis.createNewCompany({company_name: this.companyName})\n        this.companyName = ''\n        if (!this.$responseMessage(response.data, 201, '', true)) {\n          this.showModal = false\n          this.successTip(response.data.msg)\n        } else {\n          this.modalLoadingAtion()\n        }\n      })\n    },\n    async _getStoreId () {\n      this.storeId = await this.getStoreId()\n      if (this.storeId) {\n        // this.searchAcion()\n      } else {\n        let afterLoginData = await this.fetchAfterLoginData()\n        if (afterLoginData && afterLoginData.data.msg.store_list) {\n          this.storeId = await this.getStoreId()\n          if (this.storeId) {\n            // this.searchAcion()\n          } else {\n            this.$Message.warning('请选择店铺！')\n          }\n        }\n      }\n    }\n  },\n  created () {\n    this._getStoreId()\n  }\n}\n</script>\n\n<style>\n.tag-table {\n  width: 80%!important;\n}\n.num-tag {\n  display: inline-block;\n  width: 35px;\n  height: 24px;\n  line-height: 24px;\n  background: #407ce2;\n  color: #fff;\n  text-align: center;\n  vertical-align: middle;\n  margin-right: 5px;\n}\n.num-tag:hover {\n  background: #6093ea;\n  color: #fff;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/worker/tag.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"manage-box\"},[_c('div',{staticClass:\"cm-form\"},[_c('Input',{staticStyle:{\"width\":\"120px\"},attrs:{\"placeholder\":\"请输入SKU\",\"clearable\":\"\"},model:{value:(_vm.searchContent),callback:function ($$v) {_vm.searchContent=$$v},expression:\"searchContent\"}}),_vm._v(\" \"),_c('Button',{staticClass:\"search\",attrs:{\"type\":\"primary\",\"size\":\"small\"},nativeOn:{\"click\":function($event){return _vm.searchAcion($event)}}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"cm-table tag-table\"},[_c('Table',{attrs:{\"border\":\"\",\"stripe\":\"\",\"columns\":_vm.columns,\"data\":_vm.lists}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7a8298fd\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/worker/tag.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a8298fd\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tag.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tag.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tag.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a8298fd\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./tag.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/worker/tag.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}