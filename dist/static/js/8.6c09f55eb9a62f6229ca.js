webpackJsonp([8],{I8jD:function(e,a){},TTwy:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t("Xxa5"),r=t.n(s),n=t("exGp"),i=t.n(n),l=t("S2w5"),o=t("s0MJ"),u={name:"Login",data:function(){return{username:"",name:"",password:"",tPassword:"",eMail:""}},methods:{sumitUserInfo:function(){var e=this;return i()(r.a.mark(function a(){var t;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(e.$requiredInVerify(e.username,"用户名")||e.$requiredInVerify(e.name,"姓名")||e.$requiredInVerify(e.password,"密码")||e.$requiredInVerify(e.eMail,"邮箱"))){a.next=2;break}return a.abrupt("return",!1);case 2:if(e.password===e.tPassword){a.next=5;break}return e.$Message.warning("两次输入的密码不一致"),a.abrupt("return",!1);case 5:if(/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(e.eMail)){a.next=8;break}return e.$Message.warning("邮箱格式不正确"),a.abrupt("return",!1);case 8:return a.next=10,l.a.registerNewManager(e.$route.params.register_token,{username:e.username,password:e.password,first_name:e.name,email:e.eMail},!0);case 10:t=a.sent,e.$responseMessage(t.data,200,"注册成功，请前往登入")||(o.a.clearCookie("token"),window.setTimeout(function(){e.$router.push("/login")},1e3));case 12:case"end":return a.stop()}},a,e)}))()}}},c={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"login-content card"},[t("div",{staticClass:"login-title"},[e._v("用户注册")]),e._v(" "),t("div",{staticClass:"login-input mza"},[t("Input",{staticClass:"input-item",attrs:{placeholder:"请输入登入用户名",clearable:""},model:{value:e.username,callback:function(a){e.username=a},expression:"username"}}),e._v(" "),t("Input",{staticClass:"input-item",attrs:{placeholder:"请输入姓名",clearable:""},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}}),e._v(" "),t("Input",{staticClass:"input-item",attrs:{placeholder:"请输入密码",clearable:"",type:"password"},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}}),e._v(" "),t("Input",{staticClass:"input-item",attrs:{placeholder:"请输再次输入密码",clearable:"",type:"password"},model:{value:e.tPassword,callback:function(a){e.tPassword=a},expression:"tPassword"}}),e._v(" "),t("Input",{staticClass:"input-item",attrs:{placeholder:"请输入邮箱",clearable:""},model:{value:e.eMail,callback:function(a){e.eMail=a},expression:"eMail"}})],1),e._v(" "),t("div",{staticClass:"login-submit mza"},[t("Button",{staticClass:"login-btn",attrs:{type:"primary",size:"large"},nativeOn:{click:function(a){return e.sumitUserInfo(a)}}},[e._v("提交")])],1)])},staticRenderFns:[]};var p=t("VU/8")(u,c,!1,function(e){t("I8jD")},null,null);a.default=p.exports}});
//# sourceMappingURL=8.6c09f55eb9a62f6229ca.js.map